!function(t){function e(e){for(var r,a,u=e[0],c=e[1],s=e[2],d=0,f=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);f.length;)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={0:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=c;i.push([3,1]),n()}([function(t,e,n){var r=n(1),o=n(2);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(t.i,o,i),o.locals?o.locals:{});t.exports=a},,function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);var r,o=0;function i(t){r=t}function a(){return r}function u(){return o}function c(t,e,n){var r,o=document.createElement(t);return(r=o.classList).add.apply(r,e),n&&o.append.apply(o,n),o}function s(t,e,n,r){var o=[c("audio",[n]),c("source",[r])],i=o[0],a=o[1];return a.setAttribute("src",t),a.setAttribute("type","audio/mpeg"),i.setAttribute("data-name",e),i.append(a,"Your browser does not support the audio element."),i}var l=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};function d(){var t=[0,1,2,3,4,5].map((function(t){return e=t,n=c("ul",["controls-panel__item"]),0===e&&n.classList.add("selected"),n.setAttribute("data-word-set",""+e),n;var e,n})),e=c("ul",["controls-panel__list"],t),n=c("div",["controls-panel__list"],["restart","speak","result"].map((function(t){var e=c("button",["controls-panel__item-app"],[t.toUpperCase()]);return e.setAttribute("data-action",t),e})));return c("div",["controls-panel"],[e,n])}function f(){var t=c("img",["content-image__img"]);t.setAttribute("src","/speakit/assets/img/start-pic.jpg");var e=c("p",["content-image__points"],["Points: 0"]),n=c("p",["content-image__img-title"]),r=c("p",["content-image__img-input"]);return c("div",["content-image__wrap"],[e,t,n,r])}var p=10;function v(t){var e=t;e.length=p;var n=e.map((function(t){return function(t){var e=t.word,n=t.transcription,r=t.audio,o=c("p",["word__item-icon"]);o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" style="width: 40px;"><path fill="currentColor" d="M15.788 13.007a3 3 0 110 5.985c.571 3.312 2.064 5.675 3.815 5.675 2.244 0 4.064-3.88 4.064-8.667 0-4.786-1.82-8.667-4.064-8.667-1.751 0-3.244 2.363-3.815 5.674zM19 26c-3.314 0-12-4.144-12-10S15.686 6 19 6s6 4.477 6 10-2.686 10-6 10z" fill-rule="evenodd"></path></svg>';var i=c("div",["word__item-select"]);i.setAttribute("data-word",e);var a=c("p",["word__item-title"],[e]),u=c("p",["word__item-transcription"],[n]);return c("div",["word__item"],[i,a,u,o,s(r,e,"word__item-audio","word__item-source")])}(t)}));return c("div",["word__list"],n)}var h=function(t){return c("div",["words"],[v(t)])};var m=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},w=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},b="trnsl.1.1.20200426T175308Z.6d0543c65f2388ba.ce1be9f7ff5441d99a28cd7388ab7fa4778f9747";function _(t){return m(this,void 0,void 0,(function(){var e;return w(this,(function(n){switch(n.label){case 0:return[4,fetch("https://translate.yandex.net/api/v1.5/tr.json/translate?key="+b+"&text= "+t+" &lang=en-ru")];case 1:return[4,n.sent().json()];case 2:return e=n.sent(),[2,e.text[0].trim()]}}))}))}function y(t){return m(this,void 0,void 0,(function(){var e=this;return w(this,(function(n){switch(n.label){case 0:return[4,Promise.all(t.map((function(t){return m(e,void 0,void 0,(function(){var e,n,r,o,i;return w(this,(function(a){switch(a.label){case 0:return n=(e=t).image,r=e.audio,o=e.word,i=e,[4,_(o)];case 1:return i.translation=a.sent(),e.image=n.replace("files","/speakit/assets/img"),e.audio=r.replace("files","/speakit/assets/audio"),[2,t]}}))}))})))];case 1:return[2,n.sent()]}}))}))}var g,k=function(t,e){return m(void 0,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return[4,fetch("https://afternoon-falls-25894.herokuapp.com/words?page="+t+"&group="+e)];case 1:return[4,n.sent().json()];case 2:return[4,y(n.sent())];case 3:return[2,n.sent()]}}))}))};function S(t){if(t.target.dataset.word){g&&g.classList.toggle("selected");var e=document.querySelector(".content-image__img-title"),n=document.querySelector(".content-image__img"),r=t.target.dataset.word,o=t.target.parentNode;g=o,o.classList.toggle("selected");var i=o.querySelector(".word__item-audio"),u=a().find((function(t){return t.word===r})),c=u.image,s=u.translation;i.play(),e.innerHTML=s,n.setAttribute("src",c)}}function L(){document.querySelector(".words").addEventListener("click",S)}var x=L;function M(t){t.target.dataset.word&&t.target.parentNode.querySelector(".result__audio").play()}var E=function(t){var e=c("p",["result__mistakes"],["Mistakes: "+P]),n=c("p",["result__valid"],["Valid: "+O.length]),r=c("button",["result__btn"],["New Game"]),o=c("button",["result__btn"],["Return"]),i=t.map((function(t){return function(t){var e=t.word,n=t.translation,r=t.transcription,o=t.audio,i=c("div",["result__select"]);i.setAttribute("data-word",e);var a=c("span",["result__icon"]),u=c("span",["result__word"],[e]),l=c("span",["result__translation"],[n]),d=c("span",["result__transcription"],[r]),f=s(o,e,"result__audio","result__source");return a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" style="width: 20px;"><path fill="currentColor" d="M15.788 13.007a3 3 0 110 5.985c.571 3.312 2.064 5.675 3.815 5.675 2.244 0 4.064-3.88 4.064-8.667 0-4.786-1.82-8.667-4.064-8.667-1.751 0-3.244 2.363-3.815 5.674zM19 26c-3.314 0-12-4.144-12-10S15.686 6 19 6s6 4.477 6 10-2.686 10-6 10z" fill-rule="evenodd"></path></svg>',c("div",["result__row"],[a,i,u,d,l,f])}(t)}));i.unshift(n,e),i.push(r,o);var u=c("div",["result__wrap"],i),l=c("div",["result"],[u]);function d(){l.remove(),o.removeEventListener("click",d)}return l.addEventListener("click",M),o.addEventListener("click",d),r.addEventListener("click",(function(){N.restart(),P=0,O=[],C(0);var t=document.querySelector(".words");t.innerHTML="",t.append(v(a()));var e=document.querySelector(".content-image"),n=f();e.innerHTML="",e.append(n),l.remove(),o.removeEventListener("click",d)})),l},q=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},T=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},j=null,A=0,O=[],P=0;function H(){document.querySelectorAll(".word__item").forEach((function(t){t.classList.contains("selected")&&t.classList.remove("selected")}))}function C(t){var e=document.querySelector(".content-image__points");0===t?A=t:A+=1,e.innerHTML="Points: "+A}var N={wordSet:function(t,e){return q(this,void 0,void 0,(function(){var n,r,a,s,l;return T(this,(function(d){switch(d.label){case 0:return u()===t?[3,2]:(function(t){o=t}(t),n=document.querySelector(".controls-panel"),n.querySelector(".selected").classList.toggle("selected"),e.classList.toggle("selected"),r=document.querySelector(".words"),a=c("div",["loader"]),r.innerHTML="",r.append(a),[4,k(3,t)]);case 1:i(s=d.sent()),l=h(s),a.remove(),r.append(l),d.label=2;case 2:return[2]}}))}))},speak:function(){if(!j){document.querySelector(".words").removeEventListener("click",S),H(),document.querySelector(".content-image__img-title").innerHTML="";var t=t||webkitSpeechRecognition;(j=new t).interimResults=!1,j.lang="en=EN",j.continuous=!1,j.addEventListener("result",(function(t){var e=document.querySelector(".content-image__img-input"),n=Array.from(t.results).map((function(t){return t[0]})).map((function(t){return t.transcript})).join("");!function(t){if(!O.includes(t)){var e=document.querySelectorAll(".word__item-title"),n=Array.from(e).find((function(e){return e.textContent===t}));if(n){if(n.parentNode.classList.add("selected"),O.push(t),C(),10===O.length)document.body.append(E(a()))}else P+=1}}(n),e.innerHTML="",e.innerHTML=n})),j.addEventListener("end",j.start),j.start()}},restart:function(){j&&(O=[],P=0,C(0),H(),L(),document.querySelector(".content-image__img-input").innerHTML="",j.removeEventListener("end",j.start),j.abort(),j=null)},result:function(){document.body.append(E(a()))}};function z(t){if(Object.keys(t.target.dataset).length>0){var e=t.target.dataset.wordSet,n=t.target.dataset.action;e&&N.wordSet(parseInt(e,10),t.target),N[n]&&N[n]()}}var G=function(){document.querySelector(".controls-panel").addEventListener("click",z)};var R=function(){x(),G()},B=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},J=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},U=3;function D(){return B(this,void 0,void 0,(function(){var t,e,n;return J(this,(function(r){switch(r.label){case 0:return t=document.body,e=function(){var t=c("div",["loader"]);return c("div",["loader__wrap"],[t])}(),t.append(e),[4,k(U,u())];case 1:return i(r.sent()),n=function(t){return c("div",["content-page"],[d(),c("div",["content-image"],[f()]),h(t)])}(a()),e.remove(),t.append(n),R(),[2]}}))}))}document.addEventListener("DOMContentLoaded",(function(){return B(this,void 0,void 0,(function(){return J(this,(function(t){var e,n,r,o,i,a;return document.body.append((e=D,n=["Click on the words to hear them sound.",document.createElement("br"),"Click on the button and speak the words into the microphone."],r=c("h1",["start-page__title"],["speakit".toUpperCase()]),o=c("p",["start-page__subtitle"],l(n)),i=c("button",["start-page__btn"],["Start"]),a=c("div",["start-page"],[r,o,i]),i.addEventListener("click",(function t(){e(),i.removeEventListener("click",t),a.remove()})),a)),[2]}))}))}))}]);